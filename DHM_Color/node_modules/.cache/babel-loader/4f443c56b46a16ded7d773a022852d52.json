{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\Du_an20\\\\DuAnTN20\\\\DHM_Color\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState}from'react';import{Link,useHistory}from'react-router-dom';import{useForm}from\"react-hook-form\";import firebase from'../../../../firebase';var AddProduct=function AddProduct(_ref){var onAdd=_ref.onAdd,categorys=_ref.categorys;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var history=useHistory();var onHandleAdd=function onHandleAdd(data){var file=data.anh[0];var storageRef=firebase.storage().ref(\"images/\".concat(file.name));storageRef.put(file).then(function(){storageRef.getDownloadURL().then(function(url){var newData=_objectSpread(_objectSpread({id:Math.random().toString(36).substr(2,9)},data),{},{anh:url});console.log(data);//     e.preventDefault();\nonAdd(newData);history.push(\"/admin/products\");});});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"card shadow mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header py-3\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"m-0 font-weight-bold text-primary\"},\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onHandleAdd)},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductName\"},\"T\\xEAn s\\u1EA3n ph\\u1EA9m\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"productName\",name:\"ten_sp\",ref:register({required:true,minLength:5,pattern:/[A-Z a-z0-9]/})}),errors.ten_sp&&errors.ten_sp.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"),errors.ten_sp&&errors.ten_sp.type===\"minLength\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"),errors.ten_sp&&errors.ten_sp.type===\"pattern\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductName\"},\"N\\u1ED9i dung ng\\u1EAFn\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"productNdNgan\",name:\"nd_ngan\",ref:register({required:true,minLength:5,pattern:/[A-Z a-z0-9]/})}),errors.nd_ngan&&errors.nd_ngan.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"),errors.nd_ngan&&errors.nd_ngan.type===\"minLength\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"),errors.nd_ngan&&errors.nd_ngan.type===\"pattern\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductStatus\"},\"T\\xECnh tr\\u1EA1ng\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control form-control\",name:\"tinh_trang\",ref:register({required:true})},/*#__PURE__*/React.createElement(\"option\",null),/*#__PURE__*/React.createElement(\"option\",null,\"true\"),/*#__PURE__*/React.createElement(\"option\",null,\"false\")),errors.tinh_trang&&errors.tinh_trang.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\")),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductSize\"},\"Size\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"select\",{name:\"size\",tabIndex:1,\"data-placeholder\":\"Select here..\",className:\"form-control \"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--L\\u1EF1a ch\\u1ECDn size--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"S\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"M\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"L\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductColor\"},\"M\\xE0u\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"select\",{name:\"Color\",tabIndex:1,\"data-placeholder\":\"Select here..\",className:\"form-control \"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--L\\u1EF1a ch\\u1ECDn m\\xE0u--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"\\u0110en\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"\\u0110\\u1ECF\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Tr\\u1EAFng\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductColor\"},\"Danh m\\u1EE5c\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"select\",{name:\"Color\",tabIndex:1,\"data-placeholder\":\"Select here..\",className:\"form-control \"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--L\\u1EF1a ch\\u1ECDn danh m\\u1EE5c--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Qu\\u1EA7n \\xC1o\"),/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Gi\\xE0y\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"productPrice\"},\"\\u1EA2nh s\\u1EA3n ph\\u1EA9m\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"inputGroupFile02\",name:\"anh\",ref:register}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-file-label\",htmlFor:\"inputGroupFile02\",\"aria-describedby\":\"imageHelp\"},\"Choose image\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductPrice\"},\"Gi\\xE1 nh\\u1EADp\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",id:\"productRegularPrice\",name:\"gia_nhap\",ref:register({required:true,min:0,pattern:/[-+]?[0-9]*[.,]?[0-9]+/})}),errors.gia_nhap&&errors.gia_nhap.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"),errors.gia_nhap&&errors.gia_nhap.type===\"min\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Sai \\u0111\\u1ECBnh d\\u1EA1ng\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductPrice\"},\"Gi\\xE1 b\\xE1n\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",id:\"productSalePrice\",name:\"gia_ban\",ref:register({required:true,min:0,pattern:/[-+]?[0-9]*[.,]?[0-9]+/})}),errors.gia_ban&&errors.gia_ban.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"),errors.gia_ban&&errors.gia_ban.type===\"min\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Sai \\u0111\\u1ECBnh d\\u1EA1ng\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"InputProductName\"},\"N\\u1ED9i dung chi ti\\u1EBFt\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),/*#__PURE__*/React.createElement(\"textarea\",{type:\"text\",className:\"form-control\",id:\"productName\",name:\"nd_chitiet\",ref:register({required:true,minLength:5,pattern:/[A-Z a-z0-9]/})}),errors.nd_chitiet&&errors.nd_chitiet.type===\"required\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"),errors.nd_chitiet&&errors.nd_chitiet.type===\"minLength\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"),errors.nd_chitiet&&errors.nd_chitiet.type===\"pattern\"&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-success\"},\"L\\u01B0u\")))));};export default AddProduct;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Du_an20/DuAnTN20/DHM_Color/src/pages/views/Admin/AddProduct/index.js"],"names":["React","useState","Link","useHistory","useForm","firebase","AddProduct","onAdd","categorys","register","handleSubmit","errors","history","onHandleAdd","data","file","anh","storageRef","storage","ref","name","put","then","getDownloadURL","url","newData","id","Math","random","toString","substr","console","log","push","color","required","minLength","pattern","ten_sp","type","nd_ngan","tinh_trang","min","gia_nhap","gia_ban","nd_chitiet"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useForm } from \"react-hook-form\";\r\nimport firebase from '../../../../firebase'\r\nconst AddProduct = ({ onAdd, categorys }) => {\r\n    const { register, handleSubmit, errors } = useForm();\r\n\r\n\r\n    let history = useHistory();\r\n\r\n    const onHandleAdd = (data) => {\r\n        let file = data.anh[0];\r\n        let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n        storageRef.put(file).then(function () {\r\n            storageRef.getDownloadURL().then((url) => {\r\n                const newData = {\r\n                    id: Math.random().toString(36).substr(2, 9),\r\n                    ...data,\r\n                    anh: url\r\n                }\r\n                console.log(data);\r\n                //     e.preventDefault();\r\n                onAdd(newData)\r\n                history.push(\"/admin/products\");\r\n            })\r\n        });\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"card shadow mb-4\">\r\n                <div className=\"card-header py-3\">\r\n                    <h6 className=\"m-0 font-weight-bold text-primary\">Thêm sản phẩm</h6>\r\n                </div>\r\n                <div className=\"card-body\" >\r\n                    <form onSubmit={handleSubmit(onHandleAdd)}>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductName\">Tên sản phẩm</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                id=\"productName\" name=\"ten_sp\"\r\n                                ref={register({\r\n                                    required: true,\r\n                                    minLength: 5, pattern: /[A-Z a-z0-9]/\r\n                                })} />\r\n                            {errors.ten_sp && errors.ten_sp.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.ten_sp && errors.ten_sp.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.ten_sp && errors.ten_sp.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"InputProductName\">Nội dung ngắn</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                id=\"productNdNgan\" name=\"nd_ngan\"\r\n                                ref={register({ required: true, minLength: 5, pattern: /[A-Z a-z0-9]/ })} />\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductStatus\">Tình trạng</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select className=\"form-control form-control\"\r\n                                name=\"tinh_trang\" ref={register({ required: true })} >\r\n                                <option></option>\r\n                                <option>true</option>\r\n                                <option>false</option>\r\n                            </select>\r\n                            {errors.tinh_trang && errors.tinh_trang.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                        </div>\r\n\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductSize\">Size</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"size\"\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn size--</option>\r\n                                <option value=\"\">S</option>\r\n                                <option value=\"\">M</option>\r\n                                <option value=\"\">L</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductColor\">Màu</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"Color\"\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn màu--</option>\r\n                                <option value=\"\">Đen</option>\r\n                                <option value=\"\">Đỏ</option>\r\n                                <option value=\"\">Trắng</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductColor\">Danh mục</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"Color\"\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn danh mục--</option>\r\n                                <option value=\"\">Quần Áo</option>\r\n                                <option value=\"\">Giày</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* <div className=\"control\">\r\n                            <label htmlFor=\"InputProductStatus\">Danh mục</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"danhmuc_Id\"\r\n                                ref={register()}\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn danh mục--</option>\r\n                                {categorys.map((category, index) => (\r\n                                    <option key={index} value={category.id}>\r\n                                        {category.ten_danhmuc}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div> */}\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"productPrice\">Ảnh sản phẩm</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"custom-file\">\r\n                                    <input type=\"file\"\r\n                                        className=\"custom-file-input\"\r\n                                        id=\"inputGroupFile02\"\r\n                                        name=\"anh\"\r\n                                        ref={register}\r\n                                    />\r\n                                    <label className=\"custom-file-label\" htmlFor=\"inputGroupFile02\" aria-describedby=\"imageHelp\">Choose image</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductPrice\">Giá nhập</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"number\" className=\"form-control\"\r\n                                id=\"productRegularPrice\" name=\"gia_nhap\"\r\n                                ref={register({\r\n                                    required: true, min: 0\r\n                                    , pattern: /[-+]?[0-9]*[.,]?[0-9]+/\r\n                                })} />\r\n                            {errors.gia_nhap && errors.gia_nhap.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.gia_nhap && errors.gia_nhap.type === \"min\"\r\n                                && <span style={{ color: \"red\" }} >Sai định dạng</span>}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductPrice\">Giá bán</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"number\" className=\"form-control\" id=\"productSalePrice\" name=\"gia_ban\"\r\n                                ref={register({\r\n                                    required: true, min: 0\r\n                                    , pattern: /[-+]?[0-9]*[.,]?[0-9]+/\r\n                                })} />\r\n                            {errors.gia_ban && errors.gia_ban.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.gia_ban && errors.gia_ban.type === \"min\"\r\n                                && <span style={{ color: \"red\" }} >Sai định dạng</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductName\">Nội dung chi tiết</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <textarea type=\"text\" className=\"form-control\"\r\n                                id=\"productName\" name=\"nd_chitiet\"\r\n                                ref={register({\r\n                                    required: true,\r\n                                    minLength: 5, pattern: /[A-Z a-z0-9]/\r\n                                })} ></textarea>\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn btn-success\">Lưu</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nAddProduct.propTypes = {\r\n    onAdd: PropTypes.func\r\n}\r\n\r\nexport default AddProduct"]},"metadata":{},"sourceType":"module"}