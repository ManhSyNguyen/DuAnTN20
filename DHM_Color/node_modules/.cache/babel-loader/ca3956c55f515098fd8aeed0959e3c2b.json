{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Du_an20\\\\DuAnTN20\\\\DHM_Color\\\\src\\\\pages\\\\views\\\\Main\\\\ActionCart\\\\index.js\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport apiRequest from '../../../../api/productApi';\nimport Swal from 'sweetalert2';\nexport const DataContext = createContext();\nexport const DataProvider = props => {\n  const [products, setProducts] = useState({});\n  useEffect(() => {\n    const getProduct = async () => {\n      try {\n        const {\n          data\n        } = await apiRequest.getAll();\n        setProducts(data); // console.log(data)\n      } catch (error) {\n        console.log('Faile to request API', error);\n      }\n    };\n\n    getProduct();\n  }, {});\n  const [cart, setCart] = useState([]);\n\n  const addCart = id => {\n    const check = cart.every(item => {\n      return item.id !== id;\n    });\n\n    if (check) {\n      const data = products.filter(product => {\n        return product.id === id;\n      });\n      console.log(data);\n      setCart([...cart, ...data]);\n    } else {\n      Swal.fire('Thêm vào giỏ hàng thành công', 'You clicked the button!', 'success');\n    }\n  };\n\n  useEffect(() => {\n    const dataCart = JSON.parse(localStorage.getItem('dataCart'));\n    if (dataCart) setCart(dataCart);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('dataCart', JSON.stringify(cart));\n  }, [cart]);\n  const value = {\n    products: [products, setProducts],\n    cart: [cart, setCart],\n    addCart: addCart\n  };\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Du_an20/DuAnTN20/DHM_Color/src/pages/views/Main/ActionCart/index.js"],"names":["React","createContext","useState","useEffect","apiRequest","Swal","DataContext","DataProvider","props","products","setProducts","getProduct","data","getAll","error","console","log","cart","setCart","addCart","id","check","every","item","filter","product","fire","dataCart","JSON","parse","localStorage","getItem","setItem","stringify","value","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAO,MAAMC,WAAW,GAAGL,aAAa,EAAjC;AAEP,OAAO,MAAMM,YAAY,GAAIC,KAAD,IAAW;AACnC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,UAAU,GAAG,YAAY;AAC3B,UAAI;AACA,cAAM;AAAEC,UAAAA;AAAF,YAAW,MAAMR,UAAU,CAACS,MAAX,EAAvB;AACAH,QAAAA,WAAW,CAACE,IAAD,CAAX,CAFA,CAGA;AACH,OAJD,CAIE,OAAOE,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,KAApC;AACH;AACJ,KARD;;AASAH,IAAAA,UAAU;AACb,GAXQ,EAWN,EAXM,CAAT;AAYA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC,EAAD,CAAhC;;AACA,QAAMiB,OAAO,GAAIC,EAAD,IAAQ;AACpB,UAAMC,KAAK,GAAGJ,IAAI,CAACK,KAAL,CAAWC,IAAI,IAAI;AAC7B,aAAOA,IAAI,CAACH,EAAL,KAAYA,EAAnB;AACH,KAFa,CAAd;;AAGA,QAAIC,KAAJ,EAAW;AACP,YAAMT,IAAI,GAAGH,QAAQ,CAACe,MAAT,CAAgBC,OAAO,IAAI;AACpC,eAAOA,OAAO,CAACL,EAAR,KAAeA,EAAtB;AACH,OAFY,CAAb;AAGAL,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACAM,MAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAU,GAAGL,IAAb,CAAD,CAAP;AACH,KAND,MAMO;AACHP,MAAAA,IAAI,CAACqB,IAAL,CACI,8BADJ,EAEI,yBAFJ,EAGI,SAHJ;AAKH;AACJ,GAjBD;;AAkBAvB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMwB,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB;AACA,QAAIJ,QAAJ,EAAcT,OAAO,CAACS,QAAD,CAAP;AACjB,GAHQ,EAGN,EAHM,CAAT;AAIAxB,EAAAA,SAAS,CAAC,MAAM;AACZ2B,IAAAA,YAAY,CAACE,OAAb,CAAqB,UAArB,EAAiCJ,IAAI,CAACK,SAAL,CAAehB,IAAf,CAAjC;AACH,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;AAIA,QAAMiB,KAAK,GAAG;AACVzB,IAAAA,QAAQ,EAAE,CAACA,QAAD,EAAWC,WAAX,CADA;AAEVO,IAAAA,IAAI,EAAE,CAACA,IAAD,EAAOC,OAAP,CAFI;AAGVC,IAAAA,OAAO,EAAEA;AAHC,GAAd;AAKA,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEe,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK1B,KAAK,CAAC2B,QADX,CADJ;AAKH,CAnDM","sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\r\nimport apiRequest from '../../../../api/productApi'\r\nimport Swal from 'sweetalert2';\r\nexport const DataContext = createContext();\r\n\r\nexport const DataProvider = (props) => {\r\n    const [products, setProducts] = useState({});\r\n    useEffect(() => {\r\n        const getProduct = async () => {\r\n            try {\r\n                const { data } = await apiRequest.getAll();\r\n                setProducts(data)\r\n                // console.log(data)\r\n            } catch (error) {\r\n                console.log('Faile to request API', error)\r\n            }\r\n        }\r\n        getProduct()\r\n    }, {})\r\n    const [cart, setCart] = useState([]);\r\n    const addCart = (id) => {\r\n        const check = cart.every(item => {\r\n            return item.id !== id\r\n        })\r\n        if (check) {\r\n            const data = products.filter(product => {\r\n                return product.id === id\r\n            })\r\n            console.log(data);\r\n            setCart([...cart, ...data])\r\n        } else {\r\n            Swal.fire(\r\n                'Thêm vào giỏ hàng thành công',\r\n                'You clicked the button!',\r\n                'success'\r\n            )\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        const dataCart = JSON.parse(localStorage.getItem('dataCart'))\r\n        if (dataCart) setCart(dataCart)\r\n    }, []);\r\n    useEffect(() => {\r\n        localStorage.setItem('dataCart', JSON.stringify(cart))\r\n    }, [cart]);\r\n\r\n    const value = {\r\n        products: [products, setProducts],\r\n        cart: [cart, setCart],\r\n        addCart: addCart\r\n    };\r\n    return (\r\n        <DataContext.Provider value={value}>\r\n            {props.children}\r\n        </DataContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}