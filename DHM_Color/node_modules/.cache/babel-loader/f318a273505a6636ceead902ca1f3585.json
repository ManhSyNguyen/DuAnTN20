{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Du_an20\\\\DuAnTN20\\\\DHM_Color\\\\src\\\\pages\\\\views\\\\Admin\\\\EditProduct\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport apiRequest from '../../../../api/productApi';\nimport firebase from '../../../../firebase';\n\nconst EditProduct = ({\n  onUpdate,\n  categorys\n}) => {\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  const [editProduct, setEditProduct] = useState({});\n  const [Url, setUrl] = useState();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  useEffect(() => {\n    const getProduct = async () => {\n      try {\n        const {\n          data\n        } = await apiRequest.get(id);\n        setEditProduct(data);\n      } catch (error) {}\n    };\n\n    getProduct();\n  }, []);\n\n  const onHandleSubmit = data => {\n    let file = data.anh[0]; // tạo reference chứa ảnh trên firesbase\n\n    let storageRef = firebase.storage().ref(`images/${file.name}`); // đẩy ảnh lên đường dẫn trên\n\n    storageRef.put(file).then(function () {\n      storageRef.getDownloadURL().then(url => {\n        console.log(url); // Tạo object mới chứa toàn bộ thông tin từ input\n\n        const newData = {\n          id,\n          ...data,\n          anh: url\n        }; //     e.preventDefault();\n\n        onUpdate(newData);\n        console.log(newData);\n        history.push(\"/admin/products\");\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card shadow mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0 font-weight-bold text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"C\\u1EADp nh\\u1EADp s\\u1EA3n ph\\u1EA9m\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onHandleSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  }, \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"InputProductName\",\n    defaultValue: editProduct.ten_sp,\n    name: \"ten_sp\",\n    ref: register({\n      required: true,\n      pattern: /[A-Z a-z0-9]/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }), errors.ten_sp && errors.ten_sp.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.ten_sp && errors.ten_sp.type === \"minLength\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 36\n    }\n  }, \"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"), errors.ten_sp && errors.ten_sp.type === \"pattern\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 36\n    }\n  }, \"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }, \"N\\u1ED9i dung ng\\u1EAFn\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    defaultValue: editProduct.nd_ngan,\n    id: \"InputProductName\",\n    name: \"nd_ngan\",\n    ref: register({\n      required: true,\n      minLength: 5,\n      pattern: /[A-Z a-z0-9]/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }), errors.nd_ngan && errors.nd_ngan.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.nd_ngan && errors.nd_ngan.type === \"minLength\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 36\n    }\n  }, \"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"), errors.nd_ngan && errors.nd_ngan.type === \"pattern\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 36\n    }\n  }, \"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductStatus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"T\\xECnh tr\\u1EA1ng\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control form-control\",\n    name: \"tinh_trang\",\n    ref: register({\n      required: true\n    }),\n    defaultValue: editProduct.tinh_trang,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, \"----Kh\\xF4ng thu\\u1ED9c m\\u1EE5c n\\xE0o----\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, \"true\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  }, \"false\")), errors.tinh_trang && errors.tinh_trang.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductSize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, \"Size\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"size\",\n    tabIndex: 1,\n    \"data-placeholder\": \"Select here..\",\n    className: \"form-control \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 33\n    }\n  }, \"--L\\u1EF1a ch\\u1ECDn size--\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, \"M\\xE0u\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Color\",\n    tabIndex: 1,\n    \"data-placeholder\": \"Select here..\",\n    className: \"form-control \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, \"--L\\u1EF1a ch\\u1ECDn m\\xE0u--\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductCategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, \"Danh m\\u1EE5c\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"danhmuc_Id\",\n    ref: register(),\n    tabIndex: 1,\n    \"data-placeholder\": \"Select here..\",\n    className: \"form-control \",\n    defaultValue: editProduct.danhmuc_Id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, \"--Kh\\xF4ng thu\\u1ED9c danh m\\u1EE5c n\\xE0o--\"), categorys.map((category, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  }, category.ten_danhmuc)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"productPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, \"\\u1EA2nh s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"custom-file-input\",\n    id: \"inputGroupFile02\",\n    name: \"anh\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: \"250px\"\n    },\n    src: Url ? Url : editProduct.anh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"inputGroupFile02\",\n    \"aria-describedby\": \"imageHelp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, \"Choose image\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, \"Gi\\xE1 nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    id: \"InputProductName\",\n    name: \"gia_nhap\",\n    ref: register({\n      required: true,\n      min: 0,\n      pattern: /[-+]?[0-9]*[.,]?[0-9]+/\n    }),\n    defaultValue: editProduct.gia_nhap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }), errors.gia_nhap && errors.gia_nhap.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.gia_nhap && errors.gia_nhap.type === \"min\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 36\n    }\n  }, \"Sai \\u0111\\u1ECBnh d\\u1EA1ng\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 29\n    }\n  }, \"Gi\\xE1 b\\xE1n\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    id: \"InputProductName\",\n    name: \"gia_ban\",\n    ref: register({\n      required: true,\n      min: 0,\n      pattern: /[-+]?[0-9]*[.,]?[0-9]+/\n    }),\n    defaultValue: editProduct.gia_ban,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }), errors.gia_ban && errors.gia_ban.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.gia_ban && errors.gia_ban.type === \"min\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 36\n    }\n  }, \"Sai \\u0111\\u1ECBnh d\\u1EA1ng\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"InputProductName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, \"N\\u1ED9i dung chi ti\\u1EBFt\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"productName\",\n    name: \"nd_chitiet\",\n    ref: register({\n      required: true,\n      minLength: 5,\n      pattern: /[A-Z a-z0-9]/\n    }),\n    defaultValue: editProduct.nd_chitiet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  }), errors.nd_chitiet && errors.nd_chitiet.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 36\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.nd_chitiet && errors.nd_chitiet.type === \"minLength\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 36\n    }\n  }, \"Gi\\xE1 tr\\u1ECB ph\\u1EA3i l\\u1EDBn h\\u01A1n 5 k\\xED t\\u1EF1\"), errors.nd_chitiet && errors.nd_chitiet.type === \"pattern\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 36\n    }\n  }, \"Kh\\xF4ng ch\\u1EE9a k\\xED t\\u1EF1 \\u0111\\u1EB7c bi\\u1EC7t\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }, \"C\\u1EADp nh\\u1EADt\")))));\n};\n\nEditProduct.propTypes = {};\nexport default EditProduct;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Du_an20/DuAnTN20/DHM_Color/src/pages/views/Admin/EditProduct/index.js"],"names":["React","useState","useEffect","PropTypes","useParams","useHistory","useForm","apiRequest","firebase","EditProduct","onUpdate","categorys","id","history","editProduct","setEditProduct","Url","setUrl","register","handleSubmit","errors","getProduct","data","get","error","onHandleSubmit","file","anh","storageRef","storage","ref","name","put","then","getDownloadURL","url","console","log","newData","push","color","ten_sp","required","pattern","type","nd_ngan","minLength","tinh_trang","danhmuc_Id","map","category","index","ten_danhmuc","height","min","gia_nhap","gia_ban","nd_chitiet","propTypes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport apiRequest from '../../../../api/productApi'\r\nimport firebase from '../../../../firebase'\r\nconst EditProduct = ({ onUpdate, categorys }) => {\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n    const [editProduct, setEditProduct] = useState({});\r\n    const [Url, setUrl] = useState()\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    useEffect(() => {\r\n        const getProduct = async () => {\r\n            try {\r\n                const { data } = await apiRequest.get(id);\r\n                setEditProduct(data);\r\n            } catch (error) {\r\n\r\n            }\r\n        };\r\n        getProduct()\r\n    }, [])\r\n    const onHandleSubmit = (data) => {\r\n        let file = data.anh[0];\r\n        // tạo reference chứa ảnh trên firesbase\r\n        let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n        // đẩy ảnh lên đường dẫn trên\r\n        storageRef.put(file).then(function () {\r\n            storageRef.getDownloadURL().then((url) => {\r\n                console.log(url);\r\n                // Tạo object mới chứa toàn bộ thông tin từ input\r\n                const newData = {\r\n                    id,\r\n                    ...data,\r\n                    anh: url\r\n                }\r\n                //     e.preventDefault();\r\n                onUpdate(newData);\r\n                console.log(newData)\r\n                history.push(\"/admin/products\");\r\n            })\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card shadow mb-4\">\r\n                <div className=\"card-header py-3\">\r\n                    <h6 className=\"m-0 font-weight-bold text-primary\">Cập nhập sản phẩm</h6>\r\n                </div>\r\n                <div className=\"card-body\" >\r\n                    <form onSubmit={handleSubmit(onHandleSubmit)} >\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductName\">Tên sản phẩm</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"text\"\r\n                                className=\"form-control\"\r\n                                id=\"InputProductName\"\r\n                                defaultValue={editProduct.ten_sp}\r\n                                name=\"ten_sp\"\r\n                                ref={register({ required: true, pattern: /[A-Z a-z0-9]/ })} />\r\n                            {errors.ten_sp && errors.ten_sp.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.ten_sp && errors.ten_sp.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.ten_sp && errors.ten_sp.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"InputProductName\">Nội dung ngắn</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"text\" className=\"form-control\"\r\n                                defaultValue={editProduct.nd_ngan} id=\"InputProductName\" name=\"nd_ngan\"\r\n                                ref={register({ required: true, minLength: 5, pattern: /[A-Z a-z0-9]/ })} />\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.nd_ngan && errors.nd_ngan.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductStatus\">Tình trạng</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select className=\"form-control form-control\"\r\n                                name=\"tinh_trang\" ref={register({ required: true })}\r\n                                defaultValue={editProduct.tinh_trang} >\r\n                                <option value=\"\">----Không thuộc mục nào----</option>\r\n                                <option>true</option>\r\n                                <option>false</option>\r\n                            </select>\r\n                            {errors.tinh_trang && errors.tinh_trang.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                        </div>\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductSize\">Size</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"size\"\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn size--</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductColor\">Màu</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <select\r\n                                name=\"Color\"\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                            >\r\n                                <option value=\"\">--Lựa chọn màu--</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"control\">\r\n                            <label htmlFor=\"InputProductCategory\" >Danh mục</label>\r\n                            <select\r\n                                name=\"danhmuc_Id\"\r\n                                ref={register()}\r\n                                tabIndex={1}\r\n                                data-placeholder=\"Select here..\"\r\n                                className=\"form-control \"\r\n                                defaultValue={editProduct.danhmuc_Id}\r\n                            >\r\n                                <option value=\"\">--Không thuộc danh mục nào--</option>\r\n                                {categorys.map((category, index) => (\r\n                                    <option key={index} value={category.id}>\r\n                                        {category.ten_danhmuc}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"productPrice\">Ảnh sản phẩm</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"custom-file\">\r\n                                    <input type=\"file\"\r\n                                        className=\"custom-file-input\"\r\n                                        id=\"inputGroupFile02\"\r\n                                        name=\"anh\"\r\n                                        ref={register}\r\n                                    />\r\n                                    <img style={{ height: \"250px\" }} src={Url ? Url : editProduct.anh} />\r\n                                    <label className=\"custom-file-label\" htmlFor=\"inputGroupFile02\" aria-describedby=\"imageHelp\">Choose image</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductPrice\">Giá nhập</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"number\"\r\n                                className=\"form-control\"\r\n                                id=\"InputProductName\"\r\n                                name=\"gia_nhap\"\r\n                                ref={register({ required: true, min: 0, pattern: /[-+]?[0-9]*[.,]?[0-9]+/ })}\r\n                                defaultValue={editProduct.gia_nhap} />\r\n                            {errors.gia_nhap && errors.gia_nhap.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.gia_nhap && errors.gia_nhap.type === \"min\"\r\n                                && <span style={{ color: \"red\" }} >Sai định dạng</span>}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductPrice\">Giá bán</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <input type=\"number\"\r\n                                className=\"form-control\"\r\n                                id=\"InputProductName\"\r\n                                name=\"gia_ban\"\r\n                                ref={register({ required: true, min: 0, pattern: /[-+]?[0-9]*[.,]?[0-9]+/ })}\r\n                                defaultValue={editProduct.gia_ban} />\r\n                            {errors.gia_ban && errors.gia_ban.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.gia_ban && errors.gia_ban.type === \"min\"\r\n                                && <span style={{ color: \"red\" }} >Sai định dạng</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"InputProductName\">Nội dung chi tiết</label>\r\n                            <span style={{ color: 'red' }}>*</span>\r\n                            <textarea type=\"text\" className=\"form-control\"\r\n                                id=\"productName\" name=\"nd_chitiet\"\r\n                                ref={register({\r\n                                    required: true,\r\n                                    minLength: 5, pattern: /[A-Z a-z0-9]/\r\n                                })}\r\n                                defaultValue={editProduct.nd_chitiet}></textarea>\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"required\"\r\n                                && <span style={{ color: \"red\" }}>Vui lòng không để trống</span>}\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"minLength\"\r\n                                && <span style={{ color: \"red\" }}>Giá trị phải lớn hơn 5 kí tự</span>}\r\n                            {errors.nd_chitiet && errors.nd_chitiet.type === \"pattern\"\r\n                                && <span style={{ color: \"red\" }}>Không chứa kí tự đặc biệt</span>}\r\n                        </div>\r\n                        <button className=\"btn btn-primary\">Cập nhật</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nEditProduct.propTypes = {\r\n\r\n}\r\n\r\nexport default EditProduct\r\n"]},"metadata":{},"sourceType":"module"}