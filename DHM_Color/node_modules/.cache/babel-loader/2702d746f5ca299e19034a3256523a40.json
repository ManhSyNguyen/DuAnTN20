{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Du_an20\\\\DuAnTN20\\\\DHM_Color\\\\src\\\\pages\\\\views\\\\Admin\\\\EditCategory\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport apiRequestCt from '../../../../api/categoryApi';\nimport axios from 'axios';\n\nconst EditCategory = ({\n  onUpdateCt\n}) => {\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [editCategorys, setEditCategorys] = useState({});\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  useEffect(() => {\n    const getCategorys = async () => {\n      try {\n        const {\n          data\n        } = await apiRequestCt.get(id);\n        setEditCategorys(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getCategorys();\n  }, []);\n\n  const onHandleSubmit = async data => {\n    // const newData = {\n    //     id,\n    //     ...data,\n    // }\n    // onUpdateCt(newData);\n    // console.log(newData)\n    // history.push('/admin/categorys');\n    const result = await axios.put(`http://localhost:8080/categorys/${id}`, data);\n    console.log(result);\n    history.push('/admin/category');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onHandleSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"sidebar-brand-text mx-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \"S\\u1EEDa danh m\\u1EE5c\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"T\\xEAn danh m\\u1EE5c\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"ten_danhmuc\",\n    className: \"form-control\",\n    defaultValue: editCategorys.ten_danhmuc,\n    id: \"exampleInputEmail1\",\n    ref: register({\n      required: true,\n      pattern: /[A-Z a-z0-9]/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, errors.ten_danhmuc && errors.ten_danhmuc.type === \"required\" && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 94\n    }\n  }, \"Vui l\\xF2ng kh\\xF4ng \\u0111\\u1EC3 tr\\u1ED1ng\"), errors.ten_danhmuc && errors.ten_danhmuc.type === \"pattern\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 93\n    }\n  }, \"Kh\\xF4ng \\u0111\\u01B0\\u1EE3c c\\xE1ch\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n};\n\nEditCategory.propTypes = {};\nexport default EditCategory;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Du_an20/DuAnTN20/DHM_Color/src/pages/views/Admin/EditCategory/index.js"],"names":["React","useEffect","useState","useHistory","useParams","useForm","apiRequestCt","axios","EditCategory","onUpdateCt","id","history","editCategorys","setEditCategorys","register","handleSubmit","errors","getCategorys","data","get","error","console","log","onHandleSubmit","result","put","push","ten_danhmuc","required","pattern","type","propTypes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAoB;AAErC,QAAM;AAAEC,IAAAA;AAAF,MAASN,SAAS,EAAxB;AACA,QAAMO,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAM,CAACS,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM;AAAEY,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCX,OAAO,EAAlD;AACAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMgB,YAAY,GAAG,YAAY;AAC7B,UAAI;AACA,cAAM;AAAEC,UAAAA;AAAF,YAAW,MAAMZ,YAAY,CAACa,GAAb,CAAiBT,EAAjB,CAAvB;AACAG,QAAAA,gBAAgB,CAACK,IAAD,CAAhB;AACH,OAHD,CAGE,OAAOE,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,KAPD;;AAQAH,IAAAA,YAAY;AACf,GAVQ,EAUN,EAVM,CAAT;;AAWA,QAAMM,cAAc,GAAG,MAAOL,IAAP,IAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAMM,MAAM,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAW,mCAAkCf,EAAG,EAAhD,EAAmDQ,IAAnD,CAArB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ;AACAb,IAAAA,OAAO,CAACe,IAAR,CAAa,iBAAb;AACH,GAZD;;AAcA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEX,YAAY,CAACQ,cAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AACI,IAAA,IAAI,EAAC,aADT;AAEI,IAAA,SAAS,EAAC,cAFd;AAGI,IAAA,YAAY,EAAEX,aAAa,CAACe,WAHhC;AAII,IAAA,EAAE,EAAC,oBAJP;AAKI,IAAA,GAAG,EAAEb,QAAQ,CAAC;AAAEc,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAD,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eASI;AAAO,IAAA,SAAS,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKb,MAAM,CAACW,WAAP,IAAsBX,MAAM,CAACW,WAAP,CAAmBG,IAAnB,KAA4B,UAAlD,iBAAgE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADrE,EAEKd,MAAM,CAACW,WAAP,IAAsBX,MAAM,CAACW,WAAP,CAAmBG,IAAnB,KAA4B,SAAlD,iBAA+D;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFpE,CATJ,CAJJ,eAoBI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cApBJ,CADJ,CADJ,CADJ;AA4BH,CA3DD;;AA6DAtB,YAAY,CAACuB,SAAb,GAAyB,EAAzB;AAIA,eAAevB,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport apiRequestCt from '../../../../api/categoryApi';\r\nimport axios from 'axios'\r\nconst EditCategory = ({ onUpdateCt }) => {\r\n\r\n    const { id } = useParams();\r\n    const history = useHistory()\r\n    const [editCategorys, setEditCategorys] = useState({});\r\n    const { register, handleSubmit, errors } = useForm();\r\n    useEffect(() => {\r\n        const getCategorys = async () => {\r\n            try {\r\n                const { data } = await apiRequestCt.get(id);\r\n                setEditCategorys(data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        };\r\n        getCategorys()\r\n    }, [])\r\n    const onHandleSubmit = async (data) => {\r\n        // const newData = {\r\n        //     id,\r\n        //     ...data,\r\n        // }\r\n        // onUpdateCt(newData);\r\n        // console.log(newData)\r\n        // history.push('/admin/categorys');\r\n\r\n        const result = await axios.put(`http://localhost:8080/categorys/${id}`, data);\r\n        console.log(result)\r\n        history.push('/admin/category');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n                <form onSubmit={handleSubmit(onHandleSubmit)}>\r\n                    <div className=\"form-group\">\r\n                        <h2 className=\"sidebar-brand-text mx-3\">Sửa danh mục</h2>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Tên danh mục</label>\r\n                        <input type=\"text\"\r\n                            name=\"ten_danhmuc\"\r\n                            className=\"form-control\"\r\n                            defaultValue={editCategorys.ten_danhmuc}\r\n                            id=\"exampleInputEmail1\"\r\n                            ref={register({ required: true, pattern: /[A-Z a-z0-9]/ })}\r\n                        />\r\n                        <small className=\"form-text text-danger\">\r\n                            {errors.ten_danhmuc && errors.ten_danhmuc.type === \"required\" && <span>Vui lòng không để trống</span>}\r\n                            {errors.ten_danhmuc && errors.ten_danhmuc.type === \"pattern\" && <span className=\"text-danger\">Không được cách</span>}\r\n                        </small>\r\n                    </div>\r\n\r\n\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nEditCategory.propTypes = {\r\n\r\n}\r\n\r\nexport default EditCategory\r\n"]},"metadata":{},"sourceType":"module"}